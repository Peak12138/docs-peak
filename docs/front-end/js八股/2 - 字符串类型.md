# 2 - å­—ç¬¦ä¸²ç±»å‹

## 10ã€å­—ç¬¦ä¸²çš„åˆ›å»º

```js
      const a = "hello";
      const b = new String("hello");
      const c = String("hello");
      const d = `${a}`;
      const e = "\u{1f923}"; //  Unicode ä»£ç ç‚¹ ğŸ¤£
      const f = "\uD83E\uDD23"; // é«˜ä»£ç†é¡¹ + ä½ä»£ç†é¡¹ ä»£ç†å¯¹æ–¹å¼ğŸ¤£
      console.log(a, b, c, d, e, f);
```

## 11ã€å­—ç¬¦ä¸²çš„ç¼–ç 

è§£æï¼šUicode 

- **Unicode**ï¼šæ˜¯ä¸€ä¸ªå­—ç¬¦é›†ï¼Œå®šä¹‰äº†ä¸–ç•Œä¸Šå‡ ä¹æ‰€æœ‰ä¹¦å†™ç³»ç»Ÿçš„å­—ç¬¦ï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦åˆ†é…äº†ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ä»£ç ç‚¹ï¼ˆCode Pointï¼‰ã€‚è¿™äº›ä»£ç ç‚¹é€šå¸¸è¡¨ç¤ºä¸º `U+` åè·Ÿä¸€ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œä¾‹å¦‚å­—æ¯ 'A' åœ¨ Unicode ä¸­çš„ä»£ç ç‚¹æ˜¯ `U+0041`ã€‚
- **UTF-16**ï¼šæ˜¯ Unicode çš„ä¸€ç§ç¼–ç å½¢å¼ï¼Œä½¿ç”¨ 16 ä½ä»£ç å•å…ƒæ¥è¡¨ç¤ºå­—ç¬¦ã€‚å¯¹äºå¤§å¤šæ•°å­—ç¬¦ï¼ˆåŸºæœ¬å¤šæ–‡ç§å¹³é¢ BMP å†…çš„å­—ç¬¦ï¼‰ï¼Œä¸€ä¸ªä»£ç å•å…ƒå°±è¶³å¤Ÿäº†ï¼›ä½†æ˜¯å¯¹äºä¸€äº›è¾ƒä¸ºç‰¹æ®Šçš„å­—ç¬¦ï¼ˆä½äºè¾…åŠ©å¹³é¢çš„å­—ç¬¦ï¼‰ï¼Œéœ€è¦ä¸¤ä¸ªä»£ç å•å…ƒï¼ˆç§°ä¸ºä»£ç†å¯¹ï¼‰æ¥è¡¨ç¤ºã€‚

JavaScript å­—ç¬¦ä¸²åœ¨å†…éƒ¨ä½¿ç”¨**UTF-16**ç¼–ç ã€‚

è™½ç„¶JavaScriptå­—ç¬¦ä¸²å†…éƒ¨é‡‡ç”¨UTF-16ç¼–ç ï¼Œä½†åœ¨ä¸**å¤–éƒ¨ç¯å¢ƒäº¤äº’**ï¼ˆè§£ç ï¼‰æ—¶ï¼ˆå¦‚ç½‘ç»œä¼ è¾“ã€æ–‡ä»¶è¯»å†™ç­‰ï¼‰ï¼Œä½ å¯èƒ½éœ€è¦å¤„ç†ä¸åŒçš„å­—ç¬¦ç¼–ç æ ¼å¼**ï¼ˆå¦‚UTF-8ï¼‰**

**å½“ä¸€ä¸ªå­—ç¬¦ä¸²çš„lengthä¸º1æ—¶ï¼Œå®ƒçš„å­—èŠ‚æ•°æ˜¯å¤šå°‘ï¼Ÿ**

**å½“å¤„äºUTF-16çš„ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºç”±16ä½çš„ä»£ç å•å…ƒç»„æˆï¼ˆé™¤äº†emojiï¼Œç”±ä¸¤ä½ç»„æˆï¼‰ï¼Œé‚£ä¹ˆå®ƒçš„å­—èŠ‚æ•°å°±æ˜¯2;**

å½“å¤„äºUTF-8çš„ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªå­—ç¬¦ï¼ˆASCIIï¼‰è¡¨ç¤ºç”±8ä½çš„ä»£ç å•å…ƒç»„æˆï¼Œé‚£ä¹ˆå®ƒçš„å­—èŠ‚æ•°å°±æ˜¯1ï¼›

- **åœ¨ UTF-16 ä¸­ï¼Œå¯¹äºå¤§å¤šæ•°å¸¸è§å­—ç¬¦ï¼ˆåŒ…æ‹¬ä¸­æ–‡å­—ç¬¦ï¼‰ï¼Œå½“å­—ç¬¦ä¸² `length` ä¸º 1 æ—¶ï¼Œå­—èŠ‚æ•°ä¸º 2 å­—èŠ‚ã€‚**
- åœ¨ UTF-8 ä¸­ï¼Œå¯¹äºåŒä¸€ä¸ªä¸­æ–‡å­—ç¬¦ï¼Œå½“å­—ç¬¦ä¸² `length` ä¸º 1 æ—¶ï¼Œå­—èŠ‚æ•°ä¸º **3 å­—èŠ‚**ã€‚è€Œå¯¹äº ASCII å­—ç¬¦ï¼Œå­—èŠ‚æ•°æ‰æ˜¯ **1 å­—èŠ‚**ã€‚

**1å­—èŠ‚ï¼ˆByteï¼‰=8ä½ï¼ˆBitï¼‰**



## 12ã€emojiçš„é•¿åº¦

emojiæ˜¯ç‰¹æ®Šçš„ç»˜æ–‡å­—ï¼Œé€šå¸¸ç”±4ä¸ªå­—èŠ‚è¡¨ç¤ºï¼ˆUTF-16ï¼‰ï¼Œå³lengthä¸º2ã€‚

```js
      const emoji = "ğŸ¤£";
      console.log(emoji.length); // 2
```





## 13ã€å¦‚ä½•å¤„ç†emojiçš„é•¿åº¦

...





## 14ã€inã€ofçš„åŒºåˆ«

- è¯­ä¹‰åŒºåˆ«
  - inï¼šéå†`å¯æšä¸¾å±æ€§`
  - ofï¼šæ‰§è¡Œ`è¿­ä»£å™¨`ï¼ˆæ•°ç»„ã€å­—ç¬¦ä¸²ã€æ˜ å°„ã€é›†åˆç­‰å­˜åœ¨å†…ç½®è¿­ä»£å™¨ï¼Œç›´æ¥è°ƒç”¨for...ofå°±å¯ä»¥éå†æ•°æ®ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±ä¸ç”¨æ‰‹åŠ¨è·å–è¿­ä»£å™¨`iterator`åè°ƒç”¨`.next()`å»éå†äº†ï¼‰

**è·å–è¿­ä»£å™¨éå†æ•°æ®**

```js
      const arr = [1, 2, 3, 4, 5];
      console.log(arr); // å†…æœ‰Symbol.iteratoræ–¹æ³•
      let iterator = arr[Symbol.iterator]();
      console.log(iterator.next()); // {value: 1, done: false}
      console.log(iterator.next()); // {value: 2, done: false}
      console.log(iterator.next()); // {value: 3, done: false}
      console.log(iterator.next()); // {value: 4, done: false}
      console.log(iterator.next()); // {value: 5, done: false}
```



## 15ã€ä»€ä¹ˆæ˜¯Base64

**å®šä¹‰ï¼š**Base64 ç¼–ç å°†æ¯3ä¸ªå­—èŠ‚ï¼ˆ24ä½ï¼‰çš„æ•°æ®è½¬æ¢ä¸º4ä¸ªå­—èŠ‚ï¼ˆæ¯ä¸ªå­—èŠ‚6ä½ï¼‰çš„ASCIIå­—ç¬¦ã€‚ç”±äºæ¯ä¸ªå­—èŠ‚æœ‰8ä½ï¼Œè€ŒBase64åªä½¿ç”¨6ä½ï¼ˆ26=6426=64ï¼‰ï¼Œæ‰€ä»¥ç”¨è¿™64ç§ä¸åŒçš„ASCIIå­—ç¬¦æ¥è¡¨ç¤ºä»»æ„çš„äºŒè¿›åˆ¶æ•°æ®ã€‚

åº”ç”¨åœºæ™¯ï¼š

1. **URLå’Œæ–‡ä»¶å**ï¼šè™½ç„¶Base64ä¸æ˜¯ä¸“é—¨ä¸ºURLè®¾è®¡çš„ç¼–ç æ–¹å¼ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ä¹Ÿä¼šè¢«ç”¨æ¥ç¼–ç URLä¸­çš„æ•°æ®ã€‚ä¸è¿‡ï¼Œæ ‡å‡†çš„Base64åŒ…å«äº†ä¸€äº›URLä¸å‹å¥½çš„å­—ç¬¦ï¼Œæ‰€ä»¥åœ¨URLä¸­ä½¿ç”¨æ—¶éœ€è¦å¯¹è¿™äº›å­—ç¬¦åšè¿›ä¸€æ­¥ç¼–ç æˆ–ä½¿ç”¨Url-safeçš„å˜ç§ç‰ˆæœ¬ã€‚
2. **æ•°æ®URIæ–¹æ¡ˆ**ï¼šåœ¨ç½‘é¡µä¸­åµŒå…¥å°å‹çš„èµ„æºæ–‡ä»¶ï¼ˆä¾‹å¦‚å›¾ç‰‡ï¼‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Data URIæ ¼å¼ï¼Œå…¶ä¸­çš„å†…å®¹å¾€å¾€æ˜¯ç»è¿‡Base64ç¼–ç çš„ã€‚



**è½¬ç å®ä¾‹**

- åŸå§‹å­—ç¬¦ä¸² "Hello" çš„ ASCII è¡¨ç¤ºä¸ºï¼š72 101 108 108 111
- å°†è¿™äº›å€¼åˆå¹¶æˆä¸€ä¸ªä½ä¸²ï¼š01001000 01100101 01101100 01101100 01101111
- æŒ‰ç…§6ä½åˆ†ç»„ï¼š010010 000110 010101 101100 011011 000110 1111
- è½¬æ¢ä¸ºBase64å­—ç¬¦ï¼šSGVsbG8=å·´æ‹‰å·´æ‹‰Ã



## 16ã€Base64å¦‚ä½•è½¬æ¢

**å®ä¾‹**

```js
      /**
       * fileæˆ–è€…blobè½¬ä¸ºBase64
       * @param {File|Blob} file - æ–‡ä»¶æˆ–è€…Blobå¯¹è±¡
       * @return {Promise} - è¿”å›ä¸€ä¸ªè§£æä¸ºBase64 å­—ç¬¦ä¸²çš„ Promiseå¯¹è±¡
       */
      function fileToBase64(file) {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();

          // è¯»å–æˆåŠŸ
          reader.onload = (e) => {
            const base64String = e.target.result.split(",")[1];
            resolve(base64String);
          };
          // è¯»å–å¤±è´¥
          reader.onerror = (e) => {
            reject(error);
          };

          // è¯»å–æ–‡ä»¶
          reader.readAsDataURL(file);
        });
      }

      // è®¾ç½®äº¤äº’åçš„æ•°æ®å¤„ç†
      const inputFile = document.querySelector("#inputFile");
      inputFile.addEventListener("change", async (data) => {
        const file = data.target.files[0];
        try {
          const strBase64 = await fileToBase64(file);
          console.log("ç»“æœæœ‰è¿”å›ï¼ŒBase64ä¸ºï¼š", strBase64);
          // Base64 è½¬ä¸º Blob
          const fileData = base64ToFile(strBase64, file.name, file.type);
          console.log("fileå¯¹è±¡ä¸ºï¼š", fileData);
        } catch (error) {
          console.error(error);
        }
      });

      /**
       * å°† Base64 å­—ç¬¦ä¸²è½¬æ¢ä¸º Blob å¯¹è±¡ã€‚
       * @param {string} base64 - Base64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚
       * @param {string} mimeType - MIME ç±»å‹ï¼Œå¦‚ 'image/png'ã€‚
       * @returns {Blob} è¿”å›è½¬æ¢åçš„ Blob å¯¹è±¡ã€‚
       */
      function base64ToBlob(base64, mimeType) {
        // å¦‚æœ base64 æ˜¯å®Œæ•´çš„ data URLï¼Œåˆ™éœ€è¦å…ˆå»æ‰å‰ç¼€
        if (base64.indexOf("data:") === 0) {
          const startIndex = base64.indexOf(",") + 1;
          base64 = base64.substring(startIndex);
        }

        // è§£ç  Base64 å­—ç¬¦ä¸²
        const byteCharacters = atob(base64);
        const byteArrays = [];

        for (let i = 0; i < byteCharacters.length; i++) {
          byteArrays.push(byteCharacters.charCodeAt(i));
        }

        const byteArray = new Uint8Array(byteArrays);
        return new Blob([byteArray], { type: mimeType });
      }

      /**
       * å°† Base64 å­—ç¬¦ä¸²è½¬æ¢ä¸º File å¯¹è±¡ã€‚
       * @param {string} base64 - Base64 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚
       * @param {string} fileName - æ–‡ä»¶åç§°ã€‚
       * @param {string} mimeType - MIME ç±»å‹ï¼Œå¦‚ 'image/png'ã€‚
       * @returns {File} è¿”å›è½¬æ¢åçš„ File å¯¹è±¡ã€‚
       */
      function base64ToFile(base64, fileName, mimeType) {
        const blob = base64ToBlob(base64, mimeType);
        return new File([blob], fileName, { type: mimeType });
      }
```



## 17ã€Stringçš„ startwith å’Œ indexof ä¸¤ç§æ–¹æ³•çš„åŒºåˆ«

- startwith:`startsWith` æ–¹æ³•ç”¨äºåˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´ã€‚

```js
const str = "Hello world!";
console.log(str.startsWith("Hello")); // è¾“å‡º: true
console.log(str.startsWith("world", 6)); // ä»ç´¢å¼•6å¼€å§‹æ£€æŸ¥, è¾“å‡º: true
console.log(str.startsWith("world")); // è¾“å‡º: false
```

- indexof:`indexOf` æ–¹æ³•è¿”å›æŒ‡å®šå€¼ï¼ˆå­å­—ç¬¦ä¸²ï¼‰åœ¨è°ƒç”¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ã€‚å¦‚æœæœªæ‰¾åˆ°è¯¥å€¼ï¼Œåˆ™è¿”å› -1ã€‚

```js
const str = "Hello world!";
console.log(str.indexOf("Hello")); // è¾“å‡º: 0 (è¡¨ç¤º"Hello"ä»ç¬¬0ä½å¼€å§‹)
console.log(str.indexOf("world")); // è¾“å‡º: 6 (è¡¨ç¤º"world"ä»ç¬¬6ä½å¼€å§‹)
console.log(str.indexOf("foo")); // è¾“å‡º: -1 ("foo"ä¸åœ¨strä¸­)
```

**åŒºåˆ«**

- è¿”å›å€¼ï¼š`startwith`è¿”å›å€¼æ˜¯`Boolean`,è€Œ`indexof`è¿”å›çš„æ˜¯ç´¢å¼•
- ä½¿ç”¨åœºæ™¯ï¼š`startwith`ç”¨äºæ£€æµ‹å­—ç¬¦ä¸²çš„å‰ç¼€æ˜¯å¦ä¸ºæŸä¸ªå­—ç¬¦æ•°æ®ï¼Œ`indexOf` åˆ™æ›´ä¸ºé€šç”¨ï¼Œå¯ä»¥ç”¨æ¥æŸ¥æ‰¾å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ã€‚
- å‚æ•°ï¼šä¸¤è€…éƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºè¦æŸ¥æ‰¾çš„å­—ç¬¦æ•°æ®ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå¼€å§‹æŸ¥æ‰¾çš„ç´¢å¼•ä½ç½®ã€‚

## 18ã€å­—ç¬¦ä¸²å¦‚ä½•è½¬åŒ–ä¸ºæ•°å­—

```js
      // ä½¿ç”¨æ–¹æ³•æ¥è½¬
      const str1 = "123";
      const str2 = "1.23";
      const num1 = parseInt(str1); // ä½¿ç”¨ parseInt å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°
      const num2 = parseFloat(str2); // ä½¿ç”¨ parseFloat å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°
      console.log(num1, num2); // è¾“å‡º:(æ•´æ•°) 123 ï¼ˆæµ®ç‚¹æ•°ï¼‰1.23

      // ä½¿ç”¨ Number æ„é€ å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—
      const num3 = Number("123");
      const num4 = Number("1.23");
      console.log(num3, num4); // è¾“å‡º:(æ•´æ•°) 123 ï¼ˆæµ®ç‚¹æ•°ï¼‰1.23
```



## 19ã€å¦‚ä½•å»é™¤å‰åç©ºæ ¼

```js
      // å¦‚ä½•å»é™¤å‰åç©ºæ ¼
      const str = "  hello world  ";
      const trimmedStr = str.trim();
      console.log(trimmedStr); // è¾“å‡º: "hello world"
      // ä½¿ç”¨ trim() æ–¹æ³•å¯ä»¥å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ã€‚è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²ä¸ä¼šè¢«ä¿®æ”¹ã€‚
```



## 20ã€inputä¸­ï¼Œå¦‚ä½•è§£å†³ä¸­æ–‡è¾“å…¥æ¡†å¯¹äºé•¿åº¦çš„å½±å“

...

è‹¹æœè¾“å…¥æ³•æ²¡æœ‰è¿™ä¸ªé—®é¢˜

å…¶ä»–è¾“å…¥æ³•å¯èƒ½ä¼šé¢ä¸´è¿™ä¸ªé—®é¢˜